import{G as Q,S as Z,A as ee,V as f,H as te,D as ne,T as oe,a as V,M as $,B as ie,b as _,c as se,d as ae,e as W,f as re,P as le,W as ce,C as de,g as ue,h as me,L as he,i as pe,j as fe,k as ge}from"./vendor-CYaZFCfJ.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(t){if(t.ep)return;t.ep=!0;const o=n(t);fetch(t.href,o)}})();function ye(s,e,n,r,t,o){const i=new Q(n);let a,d,y,Y,F,G,j;i.load(r,function(k){a=k.scene,s.add(a),a.scale.set(t,t,t),a.position.set(o.x,o.y,o.z),a.rotation.set(0,0,0),a.traverse(function(m){m.isMesh&&(m.castShadow=!0)}),y=new Z(a),y.visible=!1,s.add(y);const v=k.animations;d=new ee(a),v.forEach(m=>{d.clipAction(m).play()}),Y=d.clipAction(v[0]),F=d.clipAction(v[2]),G=d.clipAction(v[1]),j=[Y,F,G]});function K(){return d}function U(k){const v=a.position;a.position.copy(k);const m=new f(o.x,o.y,o.z);if(a.getWorldPosition(m),v.z!=a.position.z){const T=a.rotation;a.rotation.set(T.x,T.y,T.z*1.1)}e.position.set(m.x,m.y+2,m.z+10),e.lookAt(m)}return{getMixer:K,skeleton:y,actions:j,updatePosition:U}}function c(s,e,n,r){const t=new se,o=200;for(let i=0;i<o;i++){const a=new _(new V(Math.random()*1.2,16,16),new $({color:16777215,transparent:!0,opacity:Math.random()*.6}));a.position.set(e+Math.random()*6,n+Math.random()*6,r+Math.random()*6),t.add(a)}s.add(t)}function ve(s,e,n,r,t){const i=new oe(s).load(e),a=new V(n,r,t),d=new $({map:i,side:ie});return new _(a,d)}function be(s){const e=new te(16777215,9276813,3);e.position.set(0,20,200),s.add(e);const n=new ne(16777215,3);n.position.set(-3,10,190),n.castShadow=!0,n.shadow.camera.top=2,n.shadow.camera.bottom=-2,n.shadow.camera.left=-2,n.shadow.camera.right=2,n.shadow.camera.near=.1,n.shadow.camera.far=40,s.add(n)}function I(s,e,n,r,t,o){const i=new ae;i.text=n,i.fontSize=.7,i.font="font/Georgia.woff",i.position.copy(r),i.color=0,i.sync(),s.add(i);function a(){i&&(i.material.opacity=Math.max(0,1-Math.abs(e.position.z-(o&&o>0?o:15)-i.position.z)/(t&&t>0?t:20)))}return{updateTextOpacity:a}}class we{audio;isInitialized=!1;soundIcon;isPlaying=!1;isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1}constructor(){this.audio=document.getElementById("bgMusic"),this.audio.volume=.3,this.audio.preload="auto",this.isIOS()?(console.log("iOS device detected, using iOS-specific initialization"),this.audio.playsInline=!0,this.audio.muted=!0):console.log("Non-iOS device detected, using standard initialization"),this.soundIcon=document.getElementById("soundIcon"),this.setupToggleButton()}initIOSAudio(){const e=()=>{this.isInitialized||(this.audio.muted=!1,this.audio.play().then(()=>{this.isInitialized=!0,console.log("iOS audio started successfully")}).catch(n=>{console.log("iOS audio start failed:",n),this.isInitialized=!1}))};document.addEventListener("touchend",()=>{this.isInitialized||e()},!1)}initStandardAudio(){const e=()=>{this.isInitialized||this.audio.play().then(()=>{this.isInitialized=!0,console.log("Standard audio started successfully")}).catch(n=>{console.log("Standard audio start failed:",n),this.isInitialized=!1})};["click","touchstart"].forEach(n=>{document.addEventListener(n,e,{once:!0})})}stop(){this.isInitialized&&(this.audio.pause(),this.audio.currentTime=0)}setupToggleButton(){const e=document.getElementById("toggleAudio");e&&e.addEventListener("click",n=>{n.preventDefault(),n.stopPropagation(),this.toggle()})}toggle(){this.isPlaying?this.pause():this.play(),this.updateIcon()}play(){this.isInitialized||(this.isIOS()?this.initIOSAudio():this.initStandardAudio()),this.audio.play().then(()=>{this.isPlaying=!0,this.updateIcon()}).catch(e=>console.log("Audio play failed:",e))}pause(){this.audio.pause(),this.isPlaying=!1,this.updateIcon()}updateIcon(){if(this.soundIcon){const e=this.isPlaying?"sound-on.svg":"sound-off.svg";this.soundIcon.src=`images/${e}`}}setVolume(e){this.audio.volume=Math.max(0,Math.min(1,e))}logAudioState(){console.log({isIOS:this.isIOS(),isInitialized:this.isInitialized,isMuted:this.audio.muted,volume:this.audio.volume,isPlaying:!this.audio.paused,currentTime:this.audio.currentTime,readyState:this.audio.readyState})}}function Se(s,e,n,r,t){W.init("SJ0aNKcX728yhsrWb");const o=document.getElementById(n),i=document.getElementById(r),a=document.getElementById(t);o.addEventListener("submit",async d=>{d.preventDefault();try{await W.sendForm(s,e,o),o.reset(),i.style.display="block",i.innerText="Ďakujeme, čoskoro Vás budeme kontaktovať.",a.innerText="",a.style.display="none"}catch(y){console.error("Chyba pri odosielaní:",y),a.style.display="block",a.innerText="Pri odoslaní nastala chyba, prosím skúste ešte raz. Pokiaľ chyba pretrváva prosím kontaktujte nás na email: ...",i.innerText="",i.style.display="none"}})}class Ee{hamburger;mobileMenu;isHamburgerOpen=!1;isSubpageOpen=!1;backgroundAudio;constructor(e){this.hamburger=document.getElementById("hamburger"),this.mobileMenu=document.getElementById("mobileMenu"),this.backgroundAudio=e,this.initializeMenu()}toggleMobileMenu(){this.isHamburgerOpen=!this.isHamburgerOpen,this.mobileMenu?.classList.toggle("active")}closeMobileMenu(){this.isHamburgerOpen=!1,this.mobileMenu?.classList.remove("active")}addSubPageListener(e,n,r){const t=document.querySelectorAll("#"+n);t&&t.forEach(o=>o.addEventListener("click",i=>{i.preventDefault(),document.querySelectorAll(".subpage-container").forEach(d=>{d.style.transform="translateY(100vh)"}),document.body.style.overflow="hidden",e.style.transform="translateY(0)",this.isSubpageOpen=!0,this.backgroundAudio.pause(),document.addEventListener("click",r)}))}createSubpageSection(e,n,r){const t=i=>{const a=i.target;!e.contains(a)&&!a.closest("#"+r)&&(e.style.transform="translateY(100vh)",this.isSubpageOpen=!1,setTimeout(()=>{document.body.style.overflow="auto"},500),document.removeEventListener("click",t))},o=document.getElementById(n);return o&&o.addEventListener("click",()=>{e.style.transform="translateY(100vh)",this.isSubpageOpen=!1,setTimeout(()=>{document.body.style.overflow="auto"},500),document.removeEventListener("click",t)}),this.addSubPageListener(e,r,t),{subpageContainer:e,closeOnClickOutside:t}}initializeMenu(){this.hamburger?.addEventListener("click",()=>this.toggleMobileMenu()),document.addEventListener("click",o=>{const i=o.target;this.isHamburgerOpen&&!this.hamburger?.contains(i)&&this.closeMobileMenu()}),window.addEventListener("resize",()=>{window.innerWidth>768&&this.isHamburgerOpen&&this.closeMobileMenu()});const e=document.getElementById("subpage-portfolio-container"),n=document.getElementById("subpage-klienti-container"),r=document.getElementById("subpage-about-container");this.createSubpageSection(e,"closePortfolio","portfolio-button"),this.createSubpageSection(n,"closeKlienti","klienti-button"),this.createSubpageSection(r,"closeAbout","about-button"),Se("service_um8zj4l","template_9tzop5i","contact-form","contact-form-success","contact-form-error"),document.querySelectorAll(".menu-button").forEach((o,i)=>{const a=o;a.style.opacity="0",a.style.transform="translateY(20px)",a.style.transition="opacity 0.5s ease, transform 0.5s ease",a.style.transitionDelay=`${i*.2}s`,setTimeout(()=>{a.style.opacity="1",a.style.transform="translateY(0)"},100)})}}const O=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);let x=0,L=0,z;const Le=.95,Me=.1*.002;let C,l,u,D,S,w;const g=[],A=[],ke=new ge;let R,X=!1,q=!1,E;const h=document.getElementById("threeCanvas"),N=document.getElementById("loader"),b=document.getElementById("loaderImg"),p=document.getElementById("loaderStatus"),M=document.getElementById("startButton"),P=document.getElementById("topLogo"),B=[[0,0,200],[3,0,190],[5,0,180],[3,0,170],[0,3,160],[-3,3,150],[-3,3,140],[0,10,130],[0,10,120],[0,10,110],[0,5,100],[5,5,90],[5,5,80],[3,15,70],[0,15,60],[0,15,50],[-3,20,40],[-3,20,30],[-5,20,20],[-5,20,10],[-1,20,0]];function H(){const s=window.innerWidth,e=window.innerHeight;u.fov=O?80:75,u.aspect=s/e,u.updateProjectionMatrix(),S.setSize(s,e,!1),w.setSize(s,e);const n=Math.min(window.devicePixelRatio,2);S.setPixelRatio(n)}function Ie(){x+=L/100,x=Math.max(0,Math.min(1,x));const s=z.getPointAt(x);D.updatePosition(s),L*=Le,s.z<30&&!q&&(q=!0,document.getElementById("portfolio-button")?.click())}function xe(){if(g)for(let s=0;s<g.length;s++)g[s].updateTextOpacity()}function Pe(){for(let s=0;s<A.length;s++)A[s].getMixer()&&A[s].getMixer().update(ke.getDelta())}function J(){requestAnimationFrame(J),Ie(),xe(),Pe(),S.render(l,u),w.render(l,u)}function Be(){window.addEventListener("resize",H),window.addEventListener("orientationchange",()=>{setTimeout(H,100)}),window.addEventListener("wheel",t=>{E.isSubpageOpen||(L+=t.deltaY*Me)}),document.addEventListener("touchmove",t=>{E.isSubpageOpen||t.preventDefault()},{passive:!1}),window.addEventListener("contextmenu",t=>{t.preventDefault()}),h?.addEventListener("touchmove",t=>{E.isSubpageOpen||t.preventDefault()},{passive:!1}),document.querySelectorAll("nav a, .logo, .about-link").forEach(t=>{t.addEventListener("touchstart",o=>{o.stopPropagation()},{passive:!0})});let e=0,n=!1;const r=.001;h?.addEventListener("touchstart",t=>{t.preventDefault(),e=t.touches[0].clientY,n=!0},{passive:!1}),h?.addEventListener("touchmove",t=>{t.preventDefault();const o=t.touches[0].clientY,i=o-e;n&&!E.isSubpageOpen&&(i>0||i<0)&&(L-=i*r),e=o},{passive:!1}),h?.addEventListener("touchend",t=>{t.preventDefault(),n=!1},{passive:!1}),h?.addEventListener("touchcancel",t=>{t.preventDefault(),n=!1},{passive:!1})}function Oe(s,e,n){const r=[];for(let i=0;i<B.length;i++)r.push(new f(B[i][0],B[i][1],B[i][2]));z=new ue(r),z.closed=!1;const t=new me().setFromPoints(z.getPoints(100)),o=new he({color:16776960});new pe(t,o),e.position.set(n.x,n.y+2,n.z),e.lookAt(n)}function ze(){be(l);const s=ve(C,"textures/sunshine-clouds-min.jpg",1350,900,500);l.add(s);const e=new f(0,0,200);Oe(l,u,e),D=ye(l,u,C,"models/drone6.glb",3,e),A.push(D),c(l,-15,0,190),c(l,-10,0,160),c(l,30,5,140),c(l,30,0,140),c(l,20,10,120),c(l,10,0,110),c(l,-20,0,100),c(l,-10,10,90),c(l,30,10,80),c(l,20,5,70),c(l,-10,-5,60),c(l,15,0,40),c(l,10,10,20),c(l,-10,0,20),c(l,0,0,20),c(l,-10,-5,20),c(l,5,5,20),g.push(I(l,u,"Scroll to begin your jorney",new f(-4,3,197),5,13)),g.push(I(l,u,`Videoprodukcia
príbehy, ktoré Vás vtiahnu do deja`,new f(-1,4,180),10)),g.push(I(l,u,`Fotografovanie
momenty, ktoré hovoria za vás`,new f(-7,6,150),10)),g.push(I(l,u,`Letecké zábery dronom
pohľad, ktorý mení perspektívu`,new f(-4,14,120),10))}function Ae(){R=new we,document.getElementById("startButton")?.addEventListener("click",()=>{R.play()})}function Te(){Be(),J(),Ae()}function Ce(){if(b&&P){const s=P.getBoundingClientRect(),e=b.getBoundingClientRect(),n=s.left-e.right+e.width/(O?1.3:1.8),r=s.top-e.bottom+e.height/(O?1.7:1.9);console.log(e),b.style.opacity="0",b.style.transition="transform 1.5s ease, opacity 1.5s ease",O?b.style.transform=`translate(${n}px, ${r}px) scale(0.6)`:b.style.transform=`translate(${n}px, ${r}px) scale(0.30)`}setTimeout(()=>{P&&(P.style.opacity="1")},1e3)}function De(){X&&(M&&(M.style.display="none"),h.style.opacity="0",h.style.display="block",h.style.transition="opacity 1s ease",setTimeout(()=>{N&&(N.style.display="none"),h.style.opacity="1"},10))}function Re(){if(M)M.addEventListener("click",De);else{console.error("startButton_no");return}l=new re,u=new le(75,window.innerWidth/window.innerHeight,.1,2e3),S=new ce({canvas:h,antialias:!0,powerPreference:"high-performance"}),S.shadowMap.enabled=!0,w=new de,w.setSize(window.innerWidth,window.innerHeight),w.domElement.id="css3d-container",H(),document.body.appendChild(S.domElement),document.body.appendChild(w.domElement),C=new fe(()=>{Te(),X=!0,console.log("Loading complete!"),setTimeout(function(){M.style.display="block",p&&(p.style.display="none",Ce())},500)},(s,e,n)=>{p&&(p.style.display="block"),console.log(`Loading file.
Loaded `+e+" of "+n+" files.")},s=>{p&&(p.style.display="block",p.textContent="Dronu sa nepodarilo vzlietnuť. Skúste refresh!"),console.error("There was an error loading")}),ze()}function He(){E=new Ee(R)}He();setTimeout(function(){Re()},500);
