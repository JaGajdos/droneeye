import{G as U,S as Q,A as Z,V as p,H as ee,D as te,T as ne,a as N,M as V,B as oe,b as $,c as ie,d as se,e as G,f as ae,P as re,W as le,C as ce,g as de,h as ue,L as me,i as he,j as pe,k as fe}from"./vendor-Cpbm4Fxj.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(e){if(e.ep)return;e.ep=!0;const o=n(e);fetch(e.href,o)}})();function ge(s,t,n,r,e,o){const i=new U(n);let a,l,y,R,F,Y,q;i.load(r,function(M){a=M.scene,s.add(a),a.scale.set(e,e,e),a.position.set(o.x,o.y,o.z),a.rotation.set(0,0,0),a.traverse(function(u){u.isMesh&&(u.castShadow=!0)}),y=new Q(a),y.visible=!1,s.add(y);const v=M.animations;l=new Z(a),v.forEach(u=>{l.clipAction(u).play()}),R=l.clipAction(v[0]),F=l.clipAction(v[2]),Y=l.clipAction(v[1]),q=[R,F,Y]});function J(){return l}function K(M){const v=a.position;a.position.copy(M);const u=new p(o.x,o.y,o.z);if(a.getWorldPosition(u),v.z!=a.position.z){const z=a.rotation;a.rotation.set(z.x,z.y,z.z*1.1)}t.position.set(u.x,u.y+2,u.z+10),t.lookAt(u)}return{getMixer:J,skeleton:y,actions:q,updatePosition:K}}function ye(s,t,n,r){const e=new se,o=200;for(let i=0;i<o;i++){const a=new $(new N(Math.random()*1.2,16,16),new V({color:16777215,transparent:!0,opacity:Math.random()*.6}));a.position.set(t+Math.random()*6,n+Math.random()*6,r+Math.random()*6),e.add(a)}s.add(e)}function ve(s,t,n,r,e){const i=new ne(s).load(t),a=new N(n,r,e),l=new V({map:i,side:oe});return new $(a,l)}function be(s){const t=new ee(16777215,9276813,3);t.position.set(0,20,200),s.add(t);const n=new te(16777215,3);n.position.set(-3,10,190),n.castShadow=!0,n.shadow.camera.top=2,n.shadow.camera.bottom=-2,n.shadow.camera.left=-2,n.shadow.camera.right=2,n.shadow.camera.near=.1,n.shadow.camera.far=40,s.add(n)}function k(s,t,n,r,e,o){const i=new ie;i.text=n,i.fontSize=.7,i.font="font/Georgia.woff",i.position.copy(r),i.color=0,i.sync(),s.add(i);function a(){i&&(i.material.opacity=Math.max(0,1-Math.abs(t.position.z-(o&&o>0?o:15)-i.position.z)/(e&&e>0?e:20)))}return{updateTextOpacity:a}}class we{audio;isInitialized=!1;soundIcon;isPlaying=!1;isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1}constructor(){this.audio=document.getElementById("bgMusic"),this.audio.volume=.3,this.audio.preload="auto",this.isIOS()?(console.log("iOS device detected, using iOS-specific initialization"),this.audio.playsInline=!0,this.audio.muted=!0):console.log("Non-iOS device detected, using standard initialization"),this.soundIcon=document.getElementById("soundIcon"),this.setupToggleButton()}initIOSAudio(){const t=()=>{this.isInitialized||(this.audio.muted=!1,this.audio.play().then(()=>{this.isInitialized=!0,console.log("iOS audio started successfully")}).catch(n=>{console.log("iOS audio start failed:",n),this.isInitialized=!1}))};document.addEventListener("touchend",()=>{this.isInitialized||t()},!1)}initStandardAudio(){const t=()=>{this.isInitialized||this.audio.play().then(()=>{this.isInitialized=!0,console.log("Standard audio started successfully")}).catch(n=>{console.log("Standard audio start failed:",n),this.isInitialized=!1})};["click","touchstart"].forEach(n=>{document.addEventListener(n,t,{once:!0})})}stop(){this.isInitialized&&(this.audio.pause(),this.audio.currentTime=0)}setupToggleButton(){const t=document.getElementById("toggleAudio");t&&t.addEventListener("click",n=>{n.preventDefault(),n.stopPropagation(),this.toggle()})}toggle(){this.isPlaying?this.pause():this.play(),this.updateIcon()}play(){this.isInitialized||(this.isIOS()?this.initIOSAudio():this.initStandardAudio()),this.audio.play().then(()=>{this.isPlaying=!0,this.updateIcon()}).catch(t=>console.log("Audio play failed:",t))}pause(){this.audio.pause(),this.isPlaying=!1,this.updateIcon()}updateIcon(){if(this.soundIcon){const t=this.isPlaying?"sound-on.svg":"sound-off.svg";this.soundIcon.src=`images/${t}`}}setVolume(t){this.audio.volume=Math.max(0,Math.min(1,t))}logAudioState(){console.log({isIOS:this.isIOS(),isInitialized:this.isInitialized,isMuted:this.audio.muted,volume:this.audio.volume,isPlaying:!this.audio.paused,currentTime:this.audio.currentTime,readyState:this.audio.readyState})}}function Se(s,t,n,r,e){G.init("SJ0aNKcX728yhsrWb");const o=document.getElementById(n),i=document.getElementById(r),a=document.getElementById(e);o.addEventListener("submit",async l=>{l.preventDefault();try{await G.sendForm(s,t,o),o.reset(),i.style.display="block",i.innerText="Ďakujeme, čoskoro Vás budeme kontaktovať.",a.innerText="",a.style.display="none"}catch(y){console.error("Chyba pri odosielaní:",y),a.style.display="block",a.innerText="Pri odoslaní nastala chyba, prosím skúste ešte raz. Pokiaľ chyba pretrváva prosím kontaktujte nás na email: ...",i.innerText="",i.style.display="none"}})}class Ee{hamburger;mobileMenu;isHamburgerOpen=!1;isSubpageOpen=!1;backgroundAudio;constructor(t){this.hamburger=document.getElementById("hamburger"),this.mobileMenu=document.getElementById("mobileMenu"),this.backgroundAudio=t,this.initializeMenu()}toggleMobileMenu(){this.isHamburgerOpen=!this.isHamburgerOpen,this.mobileMenu?.classList.toggle("active")}closeMobileMenu(){this.isHamburgerOpen=!1,this.mobileMenu?.classList.remove("active")}addSubPageListener(t,n,r){const e=document.querySelectorAll("#"+n);e&&e.forEach(o=>o.addEventListener("click",i=>{i.preventDefault(),document.querySelectorAll(".subpage-container").forEach(l=>{l.style.transform="translateY(100vh)"}),document.body.style.overflow="hidden",t.style.transform="translateY(0)",this.isSubpageOpen=!0,this.backgroundAudio.pause(),document.addEventListener("click",r)}))}createSubpageSection(t,n,r){const e=i=>{const a=i.target;!t.contains(a)&&!a.closest("#"+r)&&(t.style.transform="translateY(100vh)",this.isSubpageOpen=!1,setTimeout(()=>{document.body.style.overflow="auto"},500),document.removeEventListener("click",e))},o=document.getElementById(n);return o&&o.addEventListener("click",()=>{t.style.transform="translateY(100vh)",this.isSubpageOpen=!1,setTimeout(()=>{document.body.style.overflow="auto"},500),document.removeEventListener("click",e)}),this.addSubPageListener(t,r,e),{subpageContainer:t,closeOnClickOutside:e}}initializeMenu(){this.hamburger?.addEventListener("click",()=>this.toggleMobileMenu()),document.addEventListener("click",o=>{const i=o.target;this.isHamburgerOpen&&!this.hamburger?.contains(i)&&this.closeMobileMenu()}),window.addEventListener("resize",()=>{window.innerWidth>768&&this.isHamburgerOpen&&this.closeMobileMenu()});const t=document.getElementById("subpage-portfolio-container"),n=document.getElementById("subpage-klienti-container"),r=document.getElementById("subpage-about-container");this.createSubpageSection(t,"closePortfolio","portfolio-button"),this.createSubpageSection(n,"closeKlienti","klienti-button"),this.createSubpageSection(r,"closeAbout","about-button"),Se("service_um8zj4l","template_9tzop5i","contact-form","contact-form-success","contact-form-error"),document.querySelectorAll(".menu-button").forEach((o,i)=>{const a=o;a.style.opacity="0",a.style.transform="translateY(20px)",a.style.transition="opacity 0.5s ease, transform 0.5s ease",a.style.transitionDelay=`${i*.2}s`,setTimeout(()=>{a.style.opacity="1",a.style.transform="translateY(0)"},100)})}}const A=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);let I=0,E=0,B;const Le=.95,Me=.1*.002;let T,c,d,C,f,b;const g=[],O=[],ke=new fe;let D,_=!1,W=!1,S;const m=document.getElementById("threeCanvas"),j=document.getElementById("loader"),w=document.getElementById("loaderImg"),h=document.getElementById("loaderStatus"),L=document.getElementById("startButton"),x=document.getElementById("topLogo"),P=[[0,0,200],[3,0,190],[5,0,180],[3,0,170],[0,3,160],[-3,3,150],[-3,3,140],[0,10,130],[0,10,120],[0,10,110],[0,5,100],[5,5,90],[5,5,80],[3,15,70],[0,15,60],[0,15,50],[-3,20,40],[-3,20,30],[-5,20,20],[-5,20,10],[-1,20,0]],Ie=[[-15,0,190],[-10,0,160],[30,5,140],[30,0,140],[20,10,120],[10,0,110],[-20,0,100],[-10,10,90],[30,10,80],[20,5,70],[-10,-5,60],[15,0,40],[10,10,20],[-10,0,20],[0,0,20],[-10,-5,20],[5,5,20]];function H(){const s=window.innerWidth,t=window.innerHeight;d.fov=A?80:75,d.aspect=s/t,d.updateProjectionMatrix(),f.setSize(s,t,!1),b.setSize(s,t);const n=Math.min(window.devicePixelRatio,2);f.setPixelRatio(n)}function xe(){I+=E/100,I=Math.max(0,Math.min(1,I));const s=B.getPointAt(I);C.updatePosition(s),E*=Le,s.z<30&&!W&&(W=!0,document.getElementById("portfolio-button")?.click())}function Pe(){if(g)for(let s=0;s<g.length;s++)g[s].updateTextOpacity()}function Ae(){for(let s=0;s<O.length;s++)O[s].getMixer()&&O[s].getMixer().update(ke.getDelta())}function X(){requestAnimationFrame(X),xe(),Pe(),Ae(),f.render(c,d),b.render(c,d)}function Be(){window.addEventListener("resize",H),window.addEventListener("orientationchange",()=>{setTimeout(H,100)}),window.addEventListener("wheel",e=>{S.isSubpageOpen||(E+=e.deltaY*Me)}),document.addEventListener("touchmove",e=>{S.isSubpageOpen||e.preventDefault()},{passive:!1}),window.addEventListener("contextmenu",e=>{e.preventDefault()}),m?.addEventListener("touchmove",e=>{S.isSubpageOpen||e.preventDefault()},{passive:!1}),document.querySelectorAll("nav a, .logo, .about-link").forEach(e=>{e.addEventListener("touchstart",o=>{o.stopPropagation()},{passive:!0})});let t=0,n=!1;const r=.001;m?.addEventListener("touchstart",e=>{e.preventDefault(),t=e.touches[0].clientY,n=!0},{passive:!1}),m?.addEventListener("touchmove",e=>{e.preventDefault();const o=e.touches[0].clientY,i=o-t;n&&!S.isSubpageOpen&&(i>0||i<0)&&(E-=i*r),t=o},{passive:!1}),m?.addEventListener("touchend",e=>{e.preventDefault(),n=!1},{passive:!1}),m?.addEventListener("touchcancel",e=>{e.preventDefault(),n=!1},{passive:!1})}function Oe(s,t,n){const r=[];for(let i=0;i<P.length;i++)r.push(new p(P[i][0],P[i][1],P[i][2]));B=new de(r),B.closed=!1;const e=new ue().setFromPoints(B.getPoints(100)),o=new me({color:16776960});new he(e,o),t.position.set(n.x,n.y+2,n.z),t.lookAt(n)}function ze(){be(c);const s=ve(T,"textures/sunshine-clouds-min.jpg",1350,900,500);c.add(s),requestAnimationFrame(()=>{const n=new p(0,0,200);Oe(c,d,n),C=ge(c,d,T,"models/drone6.glb",3,n),O.push(C)}),requestAnimationFrame(()=>{Ie.forEach(([n,r,e])=>{ye(c,n,r,e)})}),requestAnimationFrame(()=>{g.push(k(c,d,"Scroll to begin your jorney",new p(-4,3,197),5,13)),g.push(k(c,d,`Videoprodukcia
príbehy, ktoré Vás vtiahnu do deja`,new p(-1,4,180),10)),g.push(k(c,d,`Fotografovanie
momenty, ktoré hovoria za vás`,new p(-7,6,150),10)),g.push(k(c,d,`Letecké zábery dronom
pohľad, ktorý mení perspektívu`,new p(-4,14,120),10))})}function Te(){D=new we,document.getElementById("startButton")?.addEventListener("click",()=>{D.play()})}function Ce(){Be(),X(),Te()}function De(){if(w&&x){const s=x.getBoundingClientRect(),t=w.getBoundingClientRect(),n=s.left-t.right+t.width/(A?1.3:1.8),r=s.top-t.bottom+t.height/(A?1.7:1.9);w.style.transition="transform 2s ease, opacity 2s ease",A?w.style.transform=`translate(${n}px, ${r}px) scale(0.6)`:w.style.transform=`translate(${n}px, ${r}px) scale(0.30)`}setTimeout(()=>{j&&(j.style.display="none"),x&&(x.style.opacity="1")},1e3)}function He(){_&&(De(),L&&(L.style.display="none"),m.style.opacity="0",m.style.display="block",m.style.transition="opacity 1s ease",setTimeout(()=>{m.style.opacity="1"},10))}function Re(){if(L)L.addEventListener("click",He);else{console.error("startButton_no");return}c=new ae,d=new re(75,window.innerWidth/window.innerHeight,.1,2e3),f=new le({canvas:m,antialias:!0,powerPreference:"high-performance",alpha:!0}),f.setSize(window.innerWidth,window.innerHeight),requestAnimationFrame(()=>{f.shadowMap.enabled=!0,b=new ce,b.setSize(window.innerWidth,window.innerHeight),b.domElement.id="css3d-container",H(),document.body.appendChild(f.domElement),document.body.appendChild(b.domElement),T=new pe(()=>{Ce(),_=!0,console.log("Loading complete!"),setTimeout(function(){L.style.display="block",h&&(h.style.display="none")},500)},(s,t,n)=>{h&&(h.style.display="block"),console.log(`Loading file.
Loaded `+t+" of "+n+" files.")},s=>{h&&(h.style.display="block",h.textContent="Dronu sa nepodarilo vzlietnuť. Skúste refresh!"),console.error("There was an error loading")}),ze()})}function Fe(){S=new Ee(D)}Fe();setTimeout(function(){Re()},500);
